<!DOCTYPE html>
<html>

<head>
    <title>eShop</title>
    <link rel="stylesheet" href="css/style.css">

</head>

<body>
    <header>
        <button class="cart-button" type="button">Корзина</button>
    </header>
    <main>
        <div class="goods-list"></div>
    </main>
</body>

<script>
    class Goodslist {
        constructor() {
            this.goods = [];
        }

        goodsSum() {
            let sum = 0;
            this.goods.forEach(item => {
                sum += item.price;
            });
            return sum;
        }
        fetchGoods() {
            this.goods = [
                { title: 'Shirt', price: 150 },
                { title: 'Socks', price: 50 },
                { title: 'Jacket', price: 350 },
                { title: 'Shoes', price: 250 },
            ];
        }

        render() {
            let listHtml = '';
            this.goods.forEach(good => {
                const goodItem = new GoodsItem(good.title, good.price);
                listHtml += goodItem.render();
            });
            document.querySelector('.goods-list').innerHTML = listHtml;
        }

    }
    class GoodsItem {
        constructor(price, title) {
            this.price = price;
            this.title = title;
        }
        render() {
            return `<div class="goods-item"><h3>${this.title}</h3><p>${this.price}</p></div>`;
        }

    }

    const goods = [
        { title: 'Shirt', price: 150, },
        { title: 'Socks', price: 50 },
        { title: 'Jacket', price: 350 },
        { title: 'Shoes', price: 250 },
    ];

    let goodlist = new Goodslist;
    goodlist.fetchGoods();
    goodlist.render();

    const renderGoodsItem = (title = 'product', price = '0') => {
        return `<div class="goods-item">
            <img src="http://placehold.it/200x200"  >
            <h3>${title}</h3><p>${price}</p>
            <button>добавить</button>
            </div>`;
    };

    const renderGoodsList = (list) => {
        let goodsList = list.map(item => renderGoodsItem(item.title, item.price));
        document.querySelector('.goods-list').innerHTML = goodsList.join('');
    }

    renderGoodsList(goods);




    // 3. почему map возвращает запятые https://ru.stackoverflow.com/questions/1096455/%D0%9F%D0%BE%D1%87%D0%B5%D0%BC%D1%83-%D0%B2-javascript-%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BD%D1%8B%D1%85-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B0%D1%85-map-%D1%86%D0%B8%D0%BA%D0%BB-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B0%D0%B5%D1%82%D1%81%D1%8F-%D1%81-%D0%B7%D0%B0%D0%BF%D1%8F%D1%82%D1%8B%D0%BC%D0%B8

    /* Ответ: потому что map возвращает массив, который пропускается через toString, разделяющий элементы массива запятыми */



</script>

</html>